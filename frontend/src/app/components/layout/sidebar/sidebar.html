<aside [class.w-16]="isCollapsed()" [class.w-52]="!isCollapsed()"
  class="flex flex-col h-full bg-base-200 border-r border-base-300 transition-all duration-300 ease-in-out relative z-50">
  <!-- Header -->
  <div class="flex items-center justify-between px-4 h-16 border-b border-base-300">
    @if (!isCollapsed()) {
    <a routerLink="/" class="flex items-center gap-2 text-xl font-bold hover:text-primary transition-colors">
      <ng-icon name="heroBookOpen" size="1.5rem"></ng-icon>
      <span>BookTrack</span>
    </a>
    } @else {
    <a routerLink="/" class="flex items-center justify-center w-full">
      <ng-icon name="heroBookOpen" size="1.5rem" class="text-primary"></ng-icon>
    </a>
    }

    @if (!isCollapsed()) {
    <button (click)="onToggle()" class="btn btn-ghost btn-sm btn-circle">
      <ng-icon name="heroBars3" size="1.25rem"></ng-icon>
    </button>
    }
  </div>

  <!-- Navigation -->
  <nav class="flex-1">
    <ul class="menu p-2 gap-1">
      @for (item of navItems; track item.path) {
      <li>
        <a [routerLink]="item.path"
          routerLinkActive="active-item bg-gradient-to-r from-primary to-primary/90 text-primary-content shadow-lg shadow-primary/30 scale-[1.02] hover:translate-x-0 hover:bg-gradient-to-r hover:from-primary hover:to-primary/90"
          [routerLinkActiveOptions]="{ exact: item.exactMatch ?? false }"
          [attr.data-tip]="isCollapsed() ? item.tooltip : null" [class.tooltip]="isCollapsed()"
          [class.tooltip-right]="isCollapsed()"
          class="flex items-center rounded-xl transition-all duration-300 ease-[cubic-bezier(0.23,1,0.32,1)] hover:bg-base-content hover:text-base-100 hover:shadow-md hover:translate-x-1"
          [class.gap-3]="!isCollapsed()">
          <ng-icon [name]="item.icon" size="1.25rem"></ng-icon>
          @if (!isCollapsed()) {
          <span class="font-medium">{{ item.label }}</span>
          }
        </a>
      </li>
      }
    </ul>
  </nav>

  <!-- Toggle Button (when collapsed) -->
  @if (isCollapsed()) {
  <div class="p-2 border-t border-base-300">
    <button (click)="onToggle()" class="btn btn-ghost btn-sm btn-circle w-full" aria-label="Expand sidebar">
      <ng-icon name="heroBars3" size="1.25rem"></ng-icon>
    </button>
  </div>
  }
</aside>